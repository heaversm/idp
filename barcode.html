<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Identity Portal | Scan Barcode</title>
  <meta name="viewport" content="width=device-width; initial-scale=1.0; user-scalable=no" />
  <link rel="stylesheet" href="css/main.css">
  <script>
    var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
    function init() {
      canvas = document.getElementById("canvas");
      anim_container = document.getElementById("animation_container");
      dom_overlay_container = document.getElementById("dom_overlay_container");
      var comp=AdobeAn.getComposition("D7D5DE1740A04999B0AB56BA8A4B3927");
      var lib=comp.getLibrary();
      handleComplete({},comp);
    }
    function handleComplete(evt,comp) {
      //This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
      var lib=comp.getLibrary();
      var ss=comp.getSpriteSheet();
      exportRoot = new lib.barcode();
      stage = new lib.Stage(canvas);	
      //Registers the "tick" event listener.
      fnStartAnimation = function() {
        stage.addChild(exportRoot);
        createjs.Ticker.framerate = lib.properties.fps;
        createjs.Ticker.addEventListener("tick", stage);
      }	    
      //Code to support hidpi screens and responsive scaling.
      AdobeAn.makeResponsive(true,'both',true,1,[canvas,anim_container,dom_overlay_container]);	
      AdobeAn.compositionLoaded(lib.properties.id);
      fnStartAnimation();
    }

    function gotoNextScreen(){
      console.log('next');
      window.location = "collectives.html"
    }
    </script>
</head>

<body id="Barcode" onload="init();">
  <div class="bc__container">
    <div class="bc__steps_container">
      <a href="index.html" class="bc__item home">Home</a>
      <a class="active bc__item collectives">Scan</a>
      <a href="collectives.html" class="bc__item collectives inactive">Merge</a>
      <a class="bc__item register inactive">Become</a>
      <a class="bc__item engage inactive">Act</a>
    </div>
  </div>
  <section id="container" class="container barcode__container">
    <div id="animation_container" class="barcode__intro_container" onClick="gotoNextScreen();">
      <canvas id="canvas" width="1920" height="900" style="position: absolute; display: block; background-color:rgba(0, 0, 0, 1.00);"></canvas>
		  <div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:1920px; height:900px; position: absolute; left: 0px; top: 0px; display: block;">
		  </div>
    </div>
    <div class="barcode__viewport_container">
      <div id="interactive" class="viewport barcode__viewport"></div>
      <div class="barcode__success_container">
        <div class="barcode__success_icon">
          <img src="images/checkmark.svg" alt="Success" class="barcode__success_image">
        </div>
      </div>
    </div>
  </section>

  <div class="idle__modal_container">
    <div class="idle__modal">
      <div class="idle__modal_content">
        <p class="idle__modal_message">Need more time?</p>
        <button class="idle__modal_button">Yes</button>
      </div>
    </div>
  </div>

  <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
  <script src="js/lib/jquery-2.1.4.min.js" type="text/javascript"></script>
  <script src="js/lib/jquery.idle.min.js"></script>
  <script src="js/lib/adapter-latest.js" type="text/javascript"></script>
  <script src="js/lib/quagga.min.js" type="text/javascript"></script>
  <script src="js/lib/howler.min.js"></script>
  <script src="js/idle.js"></script>
  <script src="js/barcode.js" type="text/javascript"></script>
  <script src="js/barcode-intro.js"></script>
</body>

</html>